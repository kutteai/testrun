!function(){"use strict";var e,t,a,s,r,n={18336:function(e,t,a){a.d(t,{Ei:function(){return p},Of:function(){return r},estimateGas:function(){return o},fh:function(){return u},get24hPriceChange:function(){return x},getGasPrice:function(){return i},getRealBalance:function(){return n},getTransactionCount:function(){return l},h9:function(){return h},nw:function(){return m},sendSignedTransaction:function(){return d},signTransaction:function(){return c}});const s=()=>"undefined"!=typeof window?{INFURA_PROJECT_ID:"ed5ebbc74c634fb3a8010a172c834989",ALCHEMY_API_KEY:"CfyYH4G3iTZbli3r0Ehs-",ETHERSCAN_API_KEY:"BHHF8ZRY9EUVY2TSBKGPVEKVKKB9AHVC4K",COINGECKO_API_KEY:"your_coingecko_api_key_here",COINMARKETCAP_API_KEY:"your_coinmarketcap_api_key_here",OPENSEA_API_KEY:"42407c6c5775459a9c279d5bc4cd36fd",ALCHEMY_NFT_API_KEY:"your_alchemy_nft_api_key_here",DEFI_PULSE_API_KEY:"your_defi_pulse_api_key_here",ENS_RPC_URL:"https://mainnet.infura.io/v3/ed5ebbc74c634fb3a8010a172c834989",IPFS_GATEWAY:"https://ipfs.io/ipfs/",CUSTOM_RPC_ENDPOINTS:{},SECURITY:{AUTO_LOCK_TIMEOUT:15,MAX_FAILED_ATTEMPTS:5,SESSION_TIMEOUT:30,REQUIRE_PASSWORD:!0,ENABLE_BIOMETRIC:!1},FEATURES:{ENABLE_NFT_SUPPORT:!0,ENABLE_DEFI_INTEGRATION:!0,ENABLE_PORTFOLIO_TRACKING:!0,ENABLE_HARDWARE_WALLET:!0,ENABLE_WALLET_CONNECT:!0},NETWORKS:{ethereum:{rpcUrl:"https://mainnet.infura.io/v3/ed5ebbc74c634fb3a8010a172c834989",chainId:"0x1",explorerUrl:"https://etherscan.io",symbol:"ETH",decimals:18,isEnabled:!0},bsc:{rpcUrl:"https://bsc-dataseed.binance.org",chainId:"0x38",explorerUrl:"https://bscscan.com",symbol:"BNB",decimals:18,isEnabled:!0},polygon:{rpcUrl:"https://polygon-rpc.com",chainId:"0x89",explorerUrl:"https://polygonscan.com",symbol:"MATIC",decimals:18,isEnabled:!0},avalanche:{rpcUrl:"https://api.avax.network/ext/bc/C/rpc",chainId:"0xa86a",explorerUrl:"https://snowtrace.io",symbol:"AVAX",decimals:18,isEnabled:!0},arbitrum:{rpcUrl:"https://arb1.arbitrum.io/rpc",chainId:"0xa4b1",explorerUrl:"https://arbiscan.io",symbol:"ETH",decimals:18,isEnabled:!0},optimism:{rpcUrl:"https://mainnet.optimism.io",chainId:"0xa",explorerUrl:"https://optimistic.etherscan.io",symbol:"ETH",decimals:18,isEnabled:!0}}}:{INFURA_PROJECT_ID:"",ETHERSCAN_API_KEY:"",ALCHEMY_API_KEY:"",ALCHEMY_NFT_API_KEY:"",ENS_RPC_URL:"",COINGECKO_API_KEY:"",OPENSEA_API_KEY:"",COINMARKETCAP_API_KEY:"",DEFI_PULSE_API_KEY:"",IPFS_GATEWAY:""},r={ethereum:{name:"Ethereum",symbol:"ETH",chainId:"1",rpcUrl:`https://mainnet.infura.io/v3/${s().INFURA_PROJECT_ID}`,explorerUrl:"https://etherscan.io",apiKey:s().ETHERSCAN_API_KEY,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18}},bsc:{name:"Binance Smart Chain",symbol:"BNB",chainId:"56",rpcUrl:"https://bsc-dataseed1.binance.org",explorerUrl:"https://bscscan.com",apiKey:s().ETHERSCAN_API_KEY,nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18}},polygon:{name:"Polygon",symbol:"MATIC",chainId:"137",rpcUrl:"https://polygon-rpc.com",explorerUrl:"https://polygonscan.com",apiKey:s().ETHERSCAN_API_KEY,nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18}},avalanche:{name:"Avalanche",symbol:"AVAX",chainId:"43114",rpcUrl:"https://api.avax.network/ext/bc/C/rpc",explorerUrl:"https://snowtrace.io",apiKey:"",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18}},arbitrum:{name:"Arbitrum One",symbol:"ETH",chainId:"42161",rpcUrl:"https://arb1.arbitrum.io/rpc",explorerUrl:"https://arbiscan.io",apiKey:"",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18}},optimism:{name:"Optimism",symbol:"ETH",chainId:"10",rpcUrl:"https://mainnet.optimism.io",explorerUrl:"https://optimistic.etherscan.io",apiKey:"",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18}}};async function n(e,t){return async function(e,t){try{const a=r[t];if(!a)throw new Error(`Unsupported network: ${t}`);const s=await fetch(a.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getBalance",params:[e,"latest"],id:1})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(n.error)throw new Error(n.error.message);return n.result||"0x0"}catch(e){return"0x0"}}(e,t)}async function i(e){try{const t=r[e];if(!t)throw new Error(`Unsupported network: ${e}`);const a=await fetch(t.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_gasPrice",params:[],id:1})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();if(s.error)throw new Error(s.error.message);return s.result||"0x0"}catch(e){return"0x0"}}async function o(e,t,a,s="0x",n){try{const i=r[n];if(!i)throw new Error(`Unsupported network: ${n}`);const o=await fetch(i.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_estimateGas",params:[{from:e,to:t,value:a,data:s}],id:1})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const l=await o.json();if(l.error)throw new Error(l.error.message);return l.result||"0x0"}catch(e){return"0x0"}}async function l(e,t){try{const a=r[t];if(!a)throw new Error(`Unsupported network: ${t}`);const s=await fetch(a.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getTransactionCount",params:[e,"latest"],id:1})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(n.error)throw new Error(n.error.message);return n.result||"0x0"}catch(e){return"0x0"}}async function c(e,t,s){try{const{ethers:r}=await a.e(96).then(a.bind(a,57908)),n=new r.Wallet(t),o={to:e.to,value:e.value||"0x0",data:e.data||"0x",gasLimit:e.gasLimit||"0x5208",gasPrice:e.gasPrice||await i(s),nonce:e.nonce||await l(n.address,s)};return await n.signTransaction(o)}catch(e){throw e}}async function d(e,t){try{const a=r[t];if(!a)throw new Error(`Unsupported network: ${t}`);const s=await fetch(a.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_sendRawTransaction",params:[e],id:1})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(n.error)throw new Error(n.error.message);return n.result}catch(e){throw e}}async function h(e,t){try{const a=s().ETHERSCAN_API_KEY;if(!a)throw new Error("Etherscan API key required for transaction data");const r={ethereum:"1",bsc:"56",polygon:"137",avalanche:"43114",arbitrum:"42161",optimism:"10"}[t];if(!r)throw new Error(`Unsupported network for Etherscan V2 API: ${t}`);const n=`${"https://api.etherscan.io/api/v2"}/transactions/${e}?chainid=${r}&apikey=${a}`,i=await fetch(n);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const o=await i.json();if("1"!==o.status)throw new Error(`API error: ${o.message}`);return o.result}catch(e){return null}}async function m(e,t,a=1,r=20){try{const n=s().ETHERSCAN_API_KEY;if(!n)throw new Error("Etherscan API key required for transaction history");const i={ethereum:"1",bsc:"56",polygon:"137",avalanche:"43114",arbitrum:"42161",optimism:"10"}[t];if(!i)throw new Error(`Unsupported network for Etherscan V2 API: ${t}`);const o=`${"https://api.etherscan.io/api/v2"}/transactions?address=${e}&chainid=${i}&page=${a}&offset=${r}&apikey=${n}`,l=await fetch(o);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const c=await l.json();if("1"!==c.status)throw new Error(`API error: ${c.message}`);return c.result||[]}catch(e){return[]}}async function u(e,t,a){try{const r=s().ETHERSCAN_API_KEY;if(!r)throw new Error("Etherscan API key required for token transactions");const n={ethereum:"1",bsc:"56",polygon:"137",avalanche:"43114",arbitrum:"42161",optimism:"10"}[t];if(!n)throw new Error(`Unsupported network for Etherscan V2 API: ${t}`);let i=`${"https://api.etherscan.io/api/v2"}/tokens/transactions?address=${e}&chainid=${n}&apikey=${r}`;a&&(i+=`&contractaddress=${a}`);const o=await fetch(i);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const l=await o.json();if("1"!==l.status)throw new Error(`API error: ${l.message}`);return l.result||[]}catch(e){return[]}}const p=async function(e){try{const t=s().COINGECKO_API_KEY;if(!t)throw new Error("CoinGecko API key required for token pricing");const a=`https://api.coingecko.com/api/v3/simple/price?ids=${e.join(",")}&vs_currencies=usd&x_cg_demo_api_key=${t}`,r=await fetch(a);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.json();if(n.error)throw new Error(n.error);const i={};return e.forEach(e=>{i[e]=n[e]?.usd||0}),i}catch(e){return{}}};async function x(e){try{const t=s().COINGECKO_API_KEY;if(!t)throw new Error("CoinGecko API key required for price change data");const a=`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&days=1&x_cg_demo_api_key=${t}`,r=await fetch(a);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.json();if(n.error)throw new Error(n.error);const i=n.prices;if(i&&i.length>=2){const e=i[i.length-1][1],t=i[0][1],a=e-t;return{price_change_24h:a,price_change_percentage_24h:a/t*100,current_price:e}}return{price_change_24h:0,price_change_percentage_24h:0,current_price:0}}catch(e){return{price_change_24h:0,price_change_percentage_24h:0,current_price:0}}}},48302:function(e,t,a){a.d(t,{BE:function(){return d},decryptData:function(){return l},encryptData:function(){return o},fX:function(){return n},ft:function(){return h},hashPassword:function(){return c},ko:function(){return i}});var s=a(90749),r=(a(21396),a(17871));function n(){return s.generateMnemonic(256)}function i(e){return s.validateMnemonic(e)}async function o(e,t){try{const a=new Uint8Array(32);crypto.getRandomValues(a);const s=await crypto.subtle.importKey("raw",(new TextEncoder).encode(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),r=await crypto.subtle.deriveBits({name:"PBKDF2",salt:a,iterations:1e5,hash:"SHA-256"},s,256),n=new Uint8Array(16);crypto.getRandomValues(n);const i=await crypto.subtle.importKey("raw",r,{name:"AES-GCM"},!1,["encrypt"]),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,(new TextEncoder).encode(e)),l=new Uint8Array(a.length+n.length+o.byteLength);return l.set(a,0),l.set(n,a.length),l.set(new Uint8Array(o),a.length+n.length),btoa(String.fromCharCode(...Array.from(l)))}catch(e){throw new Error("Encryption failed: "+e)}}async function l(e,t){try{const a=new Uint8Array(atob(e).split("").map(e=>e.charCodeAt(0))),s=a.slice(0,32),r=a.slice(32,48),n=a.slice(48),i=await crypto.subtle.importKey("raw",(new TextEncoder).encode(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),o=await crypto.subtle.deriveBits({name:"PBKDF2",salt:s,iterations:1e5,hash:"SHA-256"},i,256),l=await crypto.subtle.importKey("raw",o,{name:"AES-GCM"},!1,["decrypt"]),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:r},l,n);return(new TextDecoder).decode(c)}catch(e){return null}}async function c(e){return await r.hash(e,12)}async function d(e,t){return await r.compare(e,t)}function h(e){try{const t=e.startsWith("0x")?e.slice(2):e;if(!/^[0-9a-fA-F]{64}$/.test(t))return!1;const a=BigInt("0x"+t);return!(a===BigInt(0)||a>=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141"))}catch{return!1}}},58100:function(e,t,a){var s=a(74848),r=a(96540),n=a(5338),i=a(90888),o=a(18336),l=a(48302),c=a(36292);const d={wallet:null,isWalletUnlocked:!1,hasWallet:!1,balances:{},isLoading:!1,error:null,isWalletCreated:!1,isInitializing:!1,address:null,currentNetwork:null,networks:[],accounts:[],privateKey:null},h=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_INITIALIZING":return{...e,isInitializing:t.payload};case"SET_WALLET_CREATED":return{...e,isWalletCreated:t.payload};case"SET_WALLET":return{...e,wallet:t.payload,address:t.payload.address,accounts:[t.payload.address],isWalletUnlocked:!0,hasWallet:!0};case"SET_WALLET_UNLOCKED":return{...e,isWalletUnlocked:t.payload};case"SET_BALANCES":return{...e,balances:{...e.balances,...t.payload}};case"SET_CURRENT_NETWORK":return{...e,currentNetwork:t.payload};case"SET_HAS_WALLET":return{...e,hasWallet:t.payload};case"LOCK_WALLET":return{...e,isWalletUnlocked:!1,privateKey:null};case"CLEAR_WALLET":return{...e,wallet:null,isWalletUnlocked:!1,hasWallet:!1,balances:{},address:null,accounts:[],privateKey:null,isInitializing:!1};default:return e}},m=(0,r.createContext)(void 0),u=({children:e})=>{const[t,n]=(0,r.useReducer)(h,d);(0,r.useEffect)(()=>{u()},[]),(0,r.useEffect)(()=>{t.isWalletUnlocked&&t.address&&p()},[t.isWalletUnlocked,t.address]);const u=async()=>{try{n({type:"SET_INITIALIZING",payload:!0});const e=await y();e&&(n({type:"SET_WALLET_CREATED",payload:!0}),n({type:"SET_WALLET",payload:e}))}catch(e){i.Ay.error("Failed to initialize wallet"),n({type:"SET_ERROR",payload:"Failed to initialize wallet"})}finally{n({type:"SET_INITIALIZING",payload:!1})}},p=async()=>{if(t.address)try{const e={};for(const a of t.networks){const s=await(0,o.getRealBalance)(t.address,a.id);e[`${t.address}_${a.id}`]=s}n({type:"SET_BALANCES",payload:e})}catch(e){i.Ay.error("Failed to update balances"),n({type:"SET_ERROR",payload:"Failed to update balances"})}},x=async e=>{chrome.storage.local.set({wallet:e})},y=async()=>new Promise(e=>{chrome.storage.local.get(["wallet"],t=>{e(t.wallet||null)})}),g=async e=>{chrome.storage.local.set({passwordHash:e})},f=async()=>new Promise(e=>{chrome.storage.local.get(["passwordHash"],t=>{e(t.passwordHash||null)})}),b={...t,createWallet:async(e,t)=>{try{n({type:"SET_LOADING",payload:!0});const a=(0,l.fX)(),s=await(0,c.QS)(a,t),r={id:Date.now().toString(),name:e,address:s.address,privateKey:s.privateKey,publicKey:s.publicKey,seedPhrase:s.seedPhrase,network:t,currentNetwork:t,derivationPath:s.derivationPath,createdAt:Date.now()};await x(r),n({type:"SET_WALLET",payload:r}),n({type:"SET_WALLET_CREATED",payload:!0}),n({type:"SET_HAS_WALLET",payload:!0}),i.Ay.success("Wallet created successfully")}catch(e){i.Ay.error("Failed to create wallet"),n({type:"SET_ERROR",payload:"Failed to create wallet"})}finally{n({type:"SET_LOADING",payload:!1})}},importWallet:async(e,t)=>{try{if(n({type:"SET_LOADING",payload:!0}),!(0,l.ko)(e))throw new Error("Invalid seed phrase");const a=await(0,c.QS)(e,t),s={id:Date.now().toString(),name:"Imported Wallet",address:a.address,privateKey:a.privateKey,publicKey:a.publicKey,seedPhrase:a.seedPhrase,network:t,currentNetwork:t,derivationPath:a.derivationPath,createdAt:Date.now()};await x(s),n({type:"SET_WALLET",payload:s}),n({type:"SET_WALLET_CREATED",payload:!0}),n({type:"SET_HAS_WALLET",payload:!0}),i.Ay.success("Wallet imported successfully")}catch(e){i.Ay.error("Failed to import wallet"),n({type:"SET_ERROR",payload:"Failed to import wallet"})}finally{n({type:"SET_LOADING",payload:!1})}},unlockWallet:async e=>{try{if(!await y())throw new Error("No wallet found");const t=await f();if(!t){const t=await(0,l.hashPassword)(e);return await g(t),n({type:"SET_WALLET_UNLOCKED",payload:!0}),i.Ay.success("Wallet unlocked successfully"),!0}return await(0,l.BE)(e,t)?(n({type:"SET_WALLET_UNLOCKED",payload:!0}),i.Ay.success("Wallet unlocked successfully"),!0):(i.Ay.error("Invalid password"),!1)}catch(e){return i.Ay.error("Failed to unlock wallet"),n({type:"SET_ERROR",payload:"Failed to unlock wallet"}),!1}},lockWallet:()=>{n({type:"LOCK_WALLET"}),i.Ay.success("Wallet locked")},switchNetwork:async e=>{try{(0,i.Ay)(`Switching to network: ${e}`);const a=t.networks.find(t=>t.id===e);if(!a)throw new Error("Network not found");n({type:"SET_CURRENT_NETWORK",payload:a}),t.address&&await p()}catch(e){i.Ay.error("Failed to switch network"),n({type:"SET_ERROR",payload:"Failed to switch network"})}},getBalance:async(e,t)=>{try{return await(0,o.getRealBalance)(e,t)}catch(e){return i.Ay.error("Failed to get balance"),n({type:"SET_ERROR",payload:"Failed to get balance"}),"0"}},updateAllBalances:p,initializeWallet:u,addHardwareWallet:async(e,t,s)=>{try{const{hardwareWalletManager:r}=await a.e(917).then(a.bind(a,68917));await r.connectHardwareWallet(e);if(!(await r.getHardwareWalletAddresses(s)).includes(t))throw new Error("Address verification failed");const o={id:`hw_${e}_${Date.now()}`,name:`${e.charAt(0).toUpperCase()+e.slice(1)} Wallet`,address:t,seedPhrase:"",privateKey:"",publicKey:await r.exportPublicKey(`hw_${e}_${Date.now()}`,s),network:"ethereum",currentNetwork:"ethereum",derivationPath:s,createdAt:Date.now()};await x(o),n({type:"SET_WALLET",payload:o}),n({type:"SET_HAS_WALLET",payload:!0}),i.Ay.success(`${e.charAt(0).toUpperCase()+e.slice(1)} wallet added successfully`)}catch(t){i.Ay.error(`Failed to add ${e} wallet`),n({type:"SET_ERROR",payload:`Failed to add ${e} wallet`})}}};return(0,s.jsx)(m.Provider,{value:b,children:e})},p=()=>{const e=(0,r.useContext)(m);if(void 0===e)throw new Error("useWallet must be used within a WalletProvider");return e},x=(0,r.createContext)(void 0),y=()=>{const e=(0,r.useContext)(x);if(!e)throw new Error("useSecurity must be used within a SecurityProvider");return e},g=({children:e})=>{const[t,a]=(0,r.useState)({isAuthenticated:!1,isWalletUnlocked:!1,autoLockTimeout:15,requirePassword:!0,biometricAuth:!1,failedAttempts:0,lastActivity:Date.now()});(0,r.useEffect)(()=>{chrome.storage.local.get(["securitySettings","isWalletUnlocked","passwordHash"],e=>{e.securitySettings&&a(t=>({...t,...e.securitySettings,isWalletUnlocked:e.isWalletUnlocked||!1}))})},[]),(0,r.useEffect)(()=>{if(!t.isWalletUnlocked)return;const e=setInterval(()=>{Date.now()-t.lastActivity>60*t.autoLockTimeout*1e3&&i()},6e4);return()=>clearInterval(e)},[t.isWalletUnlocked,t.lastActivity,t.autoLockTimeout]);const n=async e=>{try{const t=await c();if(!t){const t=await(0,l.hashPassword)(e);return await o(t),!0}const s=await(0,l.BE)(e,t);return a(s?e=>({...e,failedAttempts:0,lastActivity:Date.now()}):e=>({...e,failedAttempts:e.failedAttempts+1})),s}catch(e){return!1}},i=()=>{a(e=>({...e,isAuthenticated:!1,isWalletUnlocked:!1})),chrome.storage.local.set({isWalletUnlocked:!1})},o=async e=>{chrome.storage.local.set({passwordHash:e})},c=async()=>new Promise(e=>{chrome.storage.local.get(["passwordHash"],t=>{e(t.passwordHash||null)})}),d={securityState:t,isAuthenticated:t.isAuthenticated,sessionExpiry:t.lastActivity,authenticate:n,lockWallet:i,unlockWallet:async e=>{try{if(t.failedAttempts>=5)throw new Error("Too many failed attempts. Please wait before trying again.");const s=await n(e);return s&&(a(e=>({...e,isWalletUnlocked:!0,lastActivity:Date.now()})),chrome.storage.local.set({isWalletUnlocked:!0})),s}catch(e){return!1}},updateSecuritySettings:e=>{a(t=>({...t,...e})),chrome.storage.local.set({securitySettings:e})},resetFailedAttempts:()=>{a(e=>({...e,failedAttempts:0}))},checkSession:async()=>Date.now()-t.lastActivity>60*t.autoLockTimeout*1e3?(i(),!1):(a(e=>({...e,lastActivity:Date.now()})),t.isAuthenticated),authenticateUser:async e=>n(e)};return(0,s.jsx)(x.Provider,{value:d,children:e})},f=(0,r.createContext)(void 0),b=()=>{const e=(0,r.useContext)(f);if(!e)throw new Error("useNetwork must be used within a NetworkProvider");return e};const w=[{id:"ethereum",name:"Ethereum",symbol:"ETH",rpcUrl:`https://mainnet.infura.io/v3/${("undefined"!=typeof window?{INFURA_PROJECT_ID:"ed5ebbc74c634fb3a8010a172c834989",ALCHEMY_API_KEY:"CfyYH4G3iTZbli3r0Ehs-",ETHERSCAN_API_KEY:"BHHF8ZRY9EUVY2TSBKGPVEKVKKB9AHVC4K",COINGECKO_API_KEY:"your_coingecko_api_key_here",COINMARKETCAP_API_KEY:"your_coinmarketcap_api_key_here",OPENSEA_API_KEY:"42407c6c5775459a9c279d5bc4cd36fd",ALCHEMY_NFT_API_KEY:"your_alchemy_nft_api_key_here",DEFI_PULSE_API_KEY:"your_defi_pulse_api_key_here",ENS_RPC_URL:"https://mainnet.infura.io/v3/ed5ebbc74c634fb3a8010a172c834989",IPFS_GATEWAY:"https://ipfs.io/ipfs/",CUSTOM_RPC_ENDPOINTS:{},SECURITY:{AUTO_LOCK_TIMEOUT:15,MAX_FAILED_ATTEMPTS:5,SESSION_TIMEOUT:30,REQUIRE_PASSWORD:!0,ENABLE_BIOMETRIC:!1},FEATURES:{ENABLE_NFT_SUPPORT:!0,ENABLE_DEFI_INTEGRATION:!0,ENABLE_PORTFOLIO_TRACKING:!0,ENABLE_HARDWARE_WALLET:!0,ENABLE_WALLET_CONNECT:!0},NETWORKS:{ethereum:{rpcUrl:"https://mainnet.infura.io/v3/ed5ebbc74c634fb3a8010a172c834989",chainId:"0x1",explorerUrl:"https://etherscan.io",symbol:"ETH",decimals:18,isEnabled:!0},bsc:{rpcUrl:"https://bsc-dataseed.binance.org",chainId:"0x38",explorerUrl:"https://bscscan.com",symbol:"BNB",decimals:18,isEnabled:!0},polygon:{rpcUrl:"https://polygon-rpc.com",chainId:"0x89",explorerUrl:"https://polygonscan.com",symbol:"MATIC",decimals:18,isEnabled:!0},avalanche:{rpcUrl:"https://api.avax.network/ext/bc/C/rpc",chainId:"0xa86a",explorerUrl:"https://snowtrace.io",symbol:"AVAX",decimals:18,isEnabled:!0},arbitrum:{rpcUrl:"https://arb1.arbitrum.io/rpc",chainId:"0xa4b1",explorerUrl:"https://arbiscan.io",symbol:"ETH",decimals:18,isEnabled:!0},optimism:{rpcUrl:"https://mainnet.optimism.io",chainId:"0xa",explorerUrl:"https://optimistic.etherscan.io",symbol:"ETH",decimals:18,isEnabled:!0}}}:{INFURA_PROJECT_ID:"ed5ebbc74c634fb3a8010a172c834989",ALCHEMY_API_KEY:"CfyYH4G3iTZbli3r0Ehs-"}).INFURA_PROJECT_ID}`,chainId:"0x1",explorerUrl:"https://etherscan.io",isCustom:!1,isEnabled:!0},{id:"bsc",name:"Binance Smart Chain",symbol:"BNB",rpcUrl:"https://bsc-dataseed.binance.org",chainId:"0x38",explorerUrl:"https://bscscan.com",isCustom:!1,isEnabled:!0},{id:"polygon",name:"Polygon",symbol:"MATIC",rpcUrl:"https://polygon-rpc.com",chainId:"0x89",explorerUrl:"https://polygonscan.com",isCustom:!1,isEnabled:!0},{id:"avalanche",name:"Avalanche",symbol:"AVAX",rpcUrl:"https://api.avax.network/ext/bc/C/rpc",chainId:"0xa86a",explorerUrl:"https://snowtrace.io",isCustom:!1,isEnabled:!0},{id:"arbitrum",name:"Arbitrum",symbol:"ETH",rpcUrl:"https://arb1.arbitrum.io/rpc",chainId:"0xa4b1",explorerUrl:"https://arbiscan.io",isCustom:!1,isEnabled:!0},{id:"optimism",name:"Optimism",symbol:"ETH",rpcUrl:"https://mainnet.optimism.io",chainId:"0xa",explorerUrl:"https://optimistic.etherscan.io",isCustom:!1,isEnabled:!0}],N=({children:e})=>{const[t,a]=(0,r.useState)({currentNetwork:w[0],networks:w,isConnected:!1,connectionError:null});(0,r.useEffect)(()=>{chrome.storage.local.get(["customNetworks","currentNetwork"],e=>{const t=e.customNetworks||[],s=[...w,...t],r=e.currentNetwork||"ethereum",n=s.find(e=>e.id===r)||s[0];a(e=>({...e,networks:s,currentNetwork:n}))})},[]);const n=e=>{const t=e.filter(e=>e.isCustom);chrome.storage.local.set({customNetworks:t})},o=async e=>{try{const t=await fetch(e.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:1})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return void 0!==(await t.json()).result}catch(t){return i.Ay.error(`Connection test failed for ${e.name}`),!1}},l={networkState:t,currentNetwork:t.currentNetwork,networks:t.networks,isConnected:t.isConnected,switchNetwork:async e=>{try{const s=t.networks.find(t=>t.id===e);if(!s)throw new Error("Network not found");const r=await o(s);a(e=>({...e,currentNetwork:s,isConnected:r,connectionError:r?null:"Connection failed"})),chrome.storage.local.set({currentNetwork:e}),r?i.Ay.success(`Switched to ${s.name}`):i.Ay.error(`Failed to connect to ${s.name}`)}catch(e){i.Ay.error("Failed to switch network"),a(t=>({...t,connectionError:e instanceof Error?e.message:"Unknown error"}))}},addCustomNetwork:e=>{const t={...e,isCustom:!0};a(e=>{const a=[...e.networks,t];return n(a),{...e,networks:a}}),i.Ay.success(`Added custom network: ${e.name}`)},removeCustomNetwork:e=>{a(t=>{const a=t.networks.filter(t=>t.id!==e);n(a);const s=t.currentNetwork?.id===e?a.find(e=>"ethereum"===e.id)||a[0]:t.currentNetwork;return{...t,networks:a,currentNetwork:s}}),i.Ay.success("Custom network removed")},toggleNetwork:e=>{a(t=>{const a=t.networks.map(t=>t.id===e?{...t,isEnabled:!t.isEnabled}:t);return n(a),{...t,networks:a}})},getNetworkById:e=>t.networks.find(t=>t.id===e),refreshConnection:async()=>{if(t.currentNetwork)try{const e=await o(t.currentNetwork);a(t=>({...t,isConnected:e,connectionError:e?null:"Connection failed"})),e?i.Ay.success("Connection restored"):i.Ay.error("Connection failed")}catch(e){i.Ay.error("Failed to refresh connection")}}};return(0,s.jsx)(f.Provider,{value:l,children:e})},v=(0,r.createContext)(void 0),j=()=>{const e=(0,r.useContext)(v);if(!e)throw new Error("useTransaction must be used within a TransactionProvider");return e},E=({children:e})=>{const[t,a]=(0,r.useState)({recentTransactions:[],pendingTransactions:[],isLoading:!1,error:null});(0,r.useEffect)(()=>{chrome.storage.local.get(["transactions"],e=>{if(e.transactions){const t=e.transactions,s=t.filter(e=>"pending"===e.status),r=t.filter(e=>"pending"!==e.status).sort((e,t)=>t.timestamp-e.timestamp).slice(0,50);a(e=>({...e,recentTransactions:r,pendingTransactions:s}))}})},[]);const n=e=>{chrome.storage.local.set({transactions:e})},i={transactionState:t,recentTransactions:t.recentTransactions,pendingTransactions:t.pendingTransactions,addTransaction:e=>{const t={...e,id:`${e.hash}-${e.nonce}`,timestamp:Date.now()};a(e=>{const a=[...e.recentTransactions,...e.pendingTransactions,t],s=a.filter(e=>"pending"===e.status),r=a.filter(e=>"pending"!==e.status).sort((e,t)=>t.timestamp-e.timestamp).slice(0,50);return n(a),{...e,recentTransactions:r,pendingTransactions:s}})},updateTransaction:(e,t)=>{a(a=>{const s=a=>a.map(a=>a.hash===e?{...a,...t}:a),r=s(a.recentTransactions),i=s(a.pendingTransactions),o=[...r,...i];return n(o),{...a,recentTransactions:r,pendingTransactions:i.filter(e=>"pending"===e.status)}})},getTransactionByHash:e=>[...t.recentTransactions,...t.pendingTransactions].find(t=>t.hash===e),clearTransactions:()=>{a(e=>({...e,recentTransactions:[],pendingTransactions:[]})),chrome.storage.local.remove(["transactions"])},refreshTransactions:async()=>{a(e=>({...e,isLoading:!0,error:null}));try{const e=[...t.recentTransactions,...t.pendingTransactions].map(e=>"pending"===e.status&&Math.random()>.7?{...e,status:"confirmed"}:e),s=e.filter(e=>"pending"===e.status),r=e.filter(e=>"pending"!==e.status).sort((e,t)=>t.timestamp-e.timestamp).slice(0,50);a(e=>({...e,recentTransactions:r,pendingTransactions:s,isLoading:!1})),n(e)}catch(e){a(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Failed to refresh transactions"}))}}};return(0,s.jsx)(v.Provider,{value:i,children:e})};var A=a(87303);const T=(0,r.createContext)(void 0);function k(){return"undefined"!=typeof window?{INFURA_PROJECT_ID:"ed5ebbc74c634fb3a8010a172c834989",ALCHEMY_API_KEY:"CfyYH4G3iTZbli3r0Ehs-",ETHERSCAN_API_KEY:"BHHF8ZRY9EUVY2TSBKGPVEKVKKB9AHVC4K",COINGECKO_API_KEY:"your_coingecko_api_key_here",COINMARKETCAP_API_KEY:"your_coinmarketcap_api_key_here",OPENSEA_API_KEY:"42407c6c5775459a9c279d5bc4cd36fd",ALCHEMY_NFT_API_KEY:"your_alchemy_nft_api_key_here",DEFI_PULSE_API_KEY:"your_defi_pulse_api_key_here",ENS_RPC_URL:"https://mainnet.infura.io/v3/ed5ebbc74c634fb3a8010a172c834989",IPFS_GATEWAY:"https://ipfs.io/ipfs/",CUSTOM_RPC_ENDPOINTS:{},SECURITY:{AUTO_LOCK_TIMEOUT:15,MAX_FAILED_ATTEMPTS:5,SESSION_TIMEOUT:30,REQUIRE_PASSWORD:!0,ENABLE_BIOMETRIC:!1},FEATURES:{ENABLE_NFT_SUPPORT:!0,ENABLE_DEFI_INTEGRATION:!0,ENABLE_PORTFOLIO_TRACKING:!0,ENABLE_HARDWARE_WALLET:!0,ENABLE_WALLET_CONNECT:!0},NETWORKS:{ethereum:{rpcUrl:"https://mainnet.infura.io/v3/ed5ebbc74c634fb3a8010a172c834989",chainId:"0x1",explorerUrl:"https://etherscan.io",symbol:"ETH",decimals:18,isEnabled:!0},bsc:{rpcUrl:"https://bsc-dataseed.binance.org",chainId:"0x38",explorerUrl:"https://bscscan.com",symbol:"BNB",decimals:18,isEnabled:!0},polygon:{rpcUrl:"https://polygon-rpc.com",chainId:"0x89",explorerUrl:"https://polygonscan.com",symbol:"MATIC",decimals:18,isEnabled:!0},avalanche:{rpcUrl:"https://api.avax.network/ext/bc/C/rpc",chainId:"0xa86a",explorerUrl:"https://snowtrace.io",symbol:"AVAX",decimals:18,isEnabled:!0},arbitrum:{rpcUrl:"https://arb1.arbitrum.io/rpc",chainId:"0xa4b1",explorerUrl:"https://arbiscan.io",symbol:"ETH",decimals:18,isEnabled:!0},optimism:{rpcUrl:"https://mainnet.optimism.io",chainId:"0xa",explorerUrl:"https://optimistic.etherscan.io",symbol:"ETH",decimals:18,isEnabled:!0}}}:{OPENSEA_API_KEY:"",ALCHEMY_NFT_API_KEY:"",INFURA_PROJECT_ID:"YOUR_INFURA_KEY"}}async function _(e,t,a){try{const s=k().OPENSEA_API_KEY;if(!s)throw new Error("OpenSea API key not configured");const r="ethereum"===a?"https://api.opensea.io/api/v1":"https://testnets-api.opensea.io/api/v1",n=await fetch(`${r}/asset/${e}/${t}/?include_orders=false`,{headers:{"X-API-KEY":s,Accept:"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();return{name:i.name||`NFT #${t}`,description:i.description||"",imageUrl:i.image_url||i.image_thumbnail_url||"",collection:i.collection?.name||"Unknown Collection",attributes:i.traits?.map(e=>({trait_type:e.trait_type,value:e.value}))||[],owner:i.owner?.address||"",metadata:{name:i.name,description:i.description,external_url:i.external_link,animation_url:i.animation_url,background_color:i.background_color}}}catch(e){throw e}}const P=({children:e})=>{const[t,a]=(0,r.useState)({nfts:[],collections:[],isLoading:!1,error:null});(0,r.useEffect)(()=>{chrome.storage.local.get(["nfts"],e=>{e.nfts&&a(t=>({...t,nfts:e.nfts}))})},[]);const n=e=>{chrome.storage.local.set({nfts:e})},o=e=>{const t={...e,id:`${e.contractAddress}-${e.tokenId}-${e.network}`};a(e=>{const a=[...e.nfts,t];return n(a),{...e,nfts:a}})},l={nftState:t,nfts:t.nfts,addNFT:o,removeNFT:e=>{a(t=>{const a=t.nfts.filter(t=>t.id!==e);return n(a),{...t,nfts:a}})},getNFTsByCollection:e=>t.nfts.filter(t=>t.collection===e),getNFTsByNetwork:e=>t.nfts.filter(t=>t.network===e),refreshNFTs:async()=>{a(e=>({...e,isLoading:!0,error:null}));try{const e=await Promise.all(t.nfts.map(async e=>{try{const t=await _(e.contractAddress,e.tokenId,e.network);return{...e,name:t.name,description:t.description,imageUrl:t.imageUrl,owner:t.owner,metadata:t.metadata}}catch(t){return e}}));a(t=>({...t,nfts:e,isLoading:!1})),n(e),i.Ay.success("NFTs refreshed successfully")}catch(e){a(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Failed to refresh NFTs"})),i.Ay.error("Failed to refresh NFTs")}},importNFT:async(e,t,s)=>{a(e=>({...e,isLoading:!0,error:null}));try{let r;try{r=await _(e,t,s)}catch(a){try{r=await async function(e,t){try{const a=k().ALCHEMY_NFT_API_KEY;if(!a)throw new Error("Alchemy API key not configured");const s=`https://eth-mainnet.g.alchemy.com/nft/v3/${a}`,r=await fetch(`${s}/getNFTMetadata?contractAddress=${e}&tokenId=${t}&refreshCache=false`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.json();return{name:n.title||`NFT #${t}`,description:n.description||"",imageUrl:n.media?.[0]?.gateway||n.media?.[0]?.raw||"",collection:n.contract?.name||"Unknown Collection",attributes:n.rawMetadata?.attributes?.map(e=>({trait_type:e.trait_type,value:e.value}))||[],owner:n.owners?.[0]||"",metadata:n.rawMetadata||{}}}catch(e){throw e}}(e,t)}catch(a){try{r=await async function(e,t){try{const a=await fetch(`https://mainnet.infura.io/v3/${k().INFURA_PROJECT_ID}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:`0xc87b56dd000000000000000000000000000000000000000000000000000000000000000${t}`},"latest"],id:1})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();if(s.error)throw new Error(s.error.message);const r=A._v(s.result),n=await fetch(r.replace("ipfs://","https://ipfs.io/ipfs/")),i=await n.json();return{name:i.name||`NFT #${t}`,description:i.description||"",imageUrl:i.image?.replace("ipfs://","https://ipfs.io/ipfs/")||"",collection:i.collection||"Unknown Collection",attributes:i.attributes||[],owner:"",metadata:i}}catch(e){throw e}}(e,t)}catch(a){r={name:`NFT #${t}`,description:`Imported NFT from ${s}`,imageUrl:"",collection:`Collection ${e.slice(0,8)}...`,attributes:[],owner:"",metadata:{}}}}}const n={tokenId:t,contractAddress:e,network:s,name:r.name,description:r.description,imageUrl:r.imageUrl,metadata:r.metadata,owner:r.owner,collection:r.collection,attributes:r.attributes};o(n),a(e=>({...e,isLoading:!1})),i.Ay.success("NFT imported successfully")}catch(e){a(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Failed to import NFT"})),i.Ay.error("Failed to import NFT")}}};return(0,s.jsx)(T.Provider,{value:l,children:e})};var S=a(7085);const C=(0,r.createContext)(void 0),I=()=>{const e=(0,r.useContext)(C);if(!e)throw new Error("usePortfolio must be used within a PortfolioProvider");return e},U={ethereum:"ethereum",bsc:"binancecoin",polygon:"matic-network",avalanche:"avalanche-2",arbitrum:"ethereum",optimism:"ethereum",bitcoin:"bitcoin",solana:"solana",tron:"tron",litecoin:"litecoin",ton:"the-open-network",xrp:"ripple"},F=({children:e})=>{const[t,n]=(0,r.useState)({portfolioValue:null,portfolioHistory:[],isLoading:!1,error:null});(0,r.useEffect)(()=>{chrome.storage.local.get(["portfolioValue"],e=>{e.portfolioValue&&n(t=>({...t,portfolioValue:e.portfolioValue}))})},[]);const l=async()=>{n(e=>({...e,isLoading:!0,error:null}));try{const e=await new Promise(e=>{chrome.storage.local.get(["wallet"],t=>{e(t.wallet)})});if(!e?.address)throw new Error("No wallet found");const t=e.address,s=["ethereum","bsc","polygon","avalanche","arbitrum","optimism"],r=[];for(const e of s)try{const a=await(0,o.getRealBalance)(t,e);parseFloat(S.ck(a))>0&&r.push({network:e,symbol:o.Of[e]?.symbol||e.toUpperCase(),balance:a,usdValue:0,change24h:0,changePercent:0})}catch(e){}const i=r.map(e=>U[e.network]).filter(Boolean),l=await(0,o.Ei)(i);let c=0;for(const e of r){const t=l[U[e.network]]||0,a=parseFloat(S.ck(e.balance));e.usdValue=a*t,c+=e.usdValue}const d=await Promise.all(i.map(async e=>{try{const{get24hPriceChange:t}=await Promise.resolve().then(a.bind(a,18336)),s=await t(e);return{tokenId:e,change24h:s.price_change_24h||0,changePercent:s.price_change_percentage_24h||0}}catch(t){return{tokenId:e,change24h:0,changePercent:0}}}));for(const e of r){const t=d.find(t=>t.tokenId===U[e.network]);t&&(e.change24h=t.change24h,e.changePercent=t.changePercent)}const h=r.reduce((e,t)=>e+t.change24h,0),m={totalUSD:c,totalChange24h:h,totalChangePercent:c>0?h/c*100:0,assets:r,rates:l,lastUpdated:Date.now()};n(e=>({...e,portfolioValue:m,isLoading:!1})),(e=>{chrome.storage.local.set({portfolioValue:e})})(m)}catch(e){n(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Failed to update portfolio"})),i.oR.error("Failed to update portfolio")}},c={portfolioState:t,portfolioValue:t.portfolioValue,portfolioHistory:[],updatePortfolio:l,getAssetValue:(e,a)=>{if(!t.portfolioValue)return 0;const s=t.portfolioValue.assets.find(t=>t.network===e&&t.symbol===a);return s?s.usdValue:0},getTotalValue:()=>t.portfolioValue?.totalUSD||0,refreshRates:async()=>{try{if(!t.portfolioValue)return void await l();const e=t.portfolioValue.assets.map(e=>U[e.network]).filter(Boolean),a=await(0,o.Ei)(e);n(e=>({...e,portfolioValue:e.portfolioValue?{...e.portfolioValue,rates:a,lastUpdated:Date.now()}:null})),i.oR.success("Portfolio rates updated")}catch(e){i.oR.error("Failed to refresh rates")}}};return(0,s.jsx)(C.Provider,{value:c,children:e})};var L=a(54999),R=a(94864),O=a(30684),H=a(22492),K=a(46858),$=a(67078),W=a(47392),B=a(48309);var D=({onNavigate:e})=>{const t=[{icon:(0,s.jsx)(O.A,{className:"w-6 h-6"}),title:"Multi-Chain Support",description:"Ethereum, Bitcoin, Solana, TRON, and more"},{icon:(0,s.jsx)(H.A,{className:"w-6 h-6"}),title:"Advanced Security",description:"Hardware wallet support & encryption"},{icon:(0,s.jsx)(K.A,{className:"w-6 h-6"}),title:"Lightning Fast",description:"Instant transactions & real-time updates"},{icon:(0,s.jsx)($.A,{className:"w-6 h-6"}),title:"Privacy First",description:"Your keys, your crypto, your control"}];return(0,s.jsxs)(R.P.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full bg-gradient-to-br from-primary-600 via-primary-700 to-secondary-600 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-8 text-center",children:[(0,s.jsxs)(R.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6 mx-auto",children:(0,s.jsx)(W.A,{className:"w-10 h-10 text-white"})}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"SOW Wallet"}),(0,s.jsx)("p",{className:"text-white/80 text-lg",children:"Your gateway to the decentralized world"})]}),(0,s.jsx)(R.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"grid grid-cols-2 gap-4 mb-8 w-full max-w-sm",children:t.map((e,t)=>(0,s.jsxs)(R.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.3+.1*t},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[(0,s.jsx)("div",{className:"text-white/90 mb-2 flex justify-center",children:e.icon}),(0,s.jsx)("h3",{className:"text-white font-semibold text-sm mb-1",children:e.title}),(0,s.jsx)("p",{className:"text-white/70 text-xs",children:e.description})]},e.title))})]}),(0,s.jsxs)(R.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.4},className:"p-8 space-y-4",children:[(0,s.jsxs)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("create"),className:"w-full bg-white text-primary-700 font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center space-x-2",children:[(0,s.jsx)(W.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Create New Wallet"})]}),(0,s.jsxs)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("import"),className:"w-full bg-white/10 backdrop-blur-sm text-white font-semibold py-4 px-6 rounded-xl border border-white/20 hover:bg-white/20 transition-all duration-200 flex items-center justify-center space-x-2",children:[(0,s.jsx)(B.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Import Existing Wallet"})]})]}),(0,s.jsx)(R.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:"text-center pb-6",children:(0,s.jsx)("p",{className:"text-white/60 text-sm",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})},Y=a(48635),M=a(93540),V=a(3160),G=a(45773),J=a(35404);var z=({onNavigate:e})=>{const[t,a]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[h,m]=(0,r.useState)("generate");return(0,s.jsx)("div",{className:"p-6 h-full bg-gray-50",children:(0,s.jsxs)("div",{className:"mx-auto max-w-sm",children:["generate"===h&&(0,s.jsxs)(R.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"flex justify-center items-center mx-auto mb-4 w-16 h-16 rounded-full bg-primary-100",children:(0,s.jsx)(Y.A,{className:"w-8 h-8 text-primary-600"})}),(0,s.jsx)("h2",{className:"mb-2 text-2xl font-bold text-gray-900",children:"Create New Wallet"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Generate a new wallet with a secure seed phrase"})]}),(0,s.jsx)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=(0,l.fX)();a(e),m("confirm")},className:"px-6 py-4 w-full font-semibold text-white rounded-xl shadow-lg transition-colors bg-primary-600 hover:bg-primary-700",children:"Generate Seed Phrase"})]}),"confirm"===h&&(0,s.jsxs)(R.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"mb-2 text-xl font-bold text-gray-900",children:"Backup Your Seed Phrase"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Write down these 12 words in a secure location. You'll need them to recover your wallet."})]}),(0,s.jsxs)("div",{className:"p-4 mb-6 bg-white rounded-xl border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Seed Phrase"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>o(!n),className:"p-1 rounded hover:bg-gray-100",children:n?(0,s.jsx)(M.A,{className:"w-4 h-4 text-gray-500"}):(0,s.jsx)(V.A,{className:"w-4 h-4 text-gray-500"})}),(0,s.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(t),d(!0),i.Ay.success("Seed phrase copied to clipboard"),setTimeout(()=>d(!1),2e3)}catch{i.Ay.error("Failed to create wallet")}},className:"p-1 rounded hover:bg-gray-100",children:c?(0,s.jsx)(G.A,{className:"w-4 h-4 text-green-500"}):(0,s.jsx)(J.A,{className:"w-4 h-4 text-gray-500"})})]})]}),n?(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:t.split(" ").map((e,t)=>(0,s.jsxs)("div",{className:"px-3 py-2 font-mono text-sm bg-gray-50 rounded-lg",children:[(0,s.jsxs)("span",{className:"mr-1 text-xs text-gray-500",children:[t+1,"."]}),e]},t))}):(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(e,t)=>(0,s.jsxs)("div",{className:"px-3 py-2 font-mono text-sm bg-gray-50 rounded-lg",children:[(0,s.jsxs)("span",{className:"mr-1 text-xs text-gray-500",children:[t+1,"."]}),"••••••"]},t))})]}),(0,s.jsx)("div",{className:"p-4 mb-6 bg-yellow-50 rounded-lg border border-yellow-200",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Security Warning"}),(0,s.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,s.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,s.jsx)("li",{children:"Never share your seed phrase with anyone"}),(0,s.jsx)("li",{children:"Store it in a secure, offline location"}),(0,s.jsx)("li",{children:"Don't take screenshots or store it digitally"})]})})]})]})}),(0,s.jsx)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{e("verify")},className:"px-6 py-4 w-full font-semibold text-white rounded-xl shadow-lg transition-colors bg-primary-600 hover:bg-primary-700",children:"I've Written It Down"})]})]})})};var q=({onNavigate:e})=>{const[t,a]=(0,r.useState)("seed"),[n,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"h-full bg-gray-50 p-6",children:(0,s.jsxs)("div",{className:"max-w-sm mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Import Wallet"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Import an existing wallet using seed phrase or private key"})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>a("seed"),className:"p-3 rounded-lg border-2 transition-colors "+("seed"===t?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"),children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:"Seed Phrase"}),(0,s.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"12 or 24 words"})]}),(0,s.jsxs)("button",{onClick:()=>a("privateKey"),className:"p-3 rounded-lg border-2 transition-colors "+("privateKey"===t?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"),children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:"Private Key"}),(0,s.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"64 character hex"})]})]})}),(0,s.jsxs)(R.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:["seed"===t?(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seed Phrase"}),(0,s.jsx)("textarea",{value:n,onChange:e=>{return t=e.target.value,o(t),void p((0,l.ko)(t));var t},placeholder:"Enter your 12 or 24 word seed phrase",className:"w-full h-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Separate words with spaces"})]})}):(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Private Key"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:h?"text":"password",value:c,onChange:e=>{return t=e.target.value,d(t),void p((0,l.ft)(t));var t},placeholder:"Enter your private key (0x...)",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,s.jsx)("button",{onClick:()=>m(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded hover:bg-gray-100",children:h?(0,s.jsx)(M.A,{className:"w-4 h-4 text-gray-500"}):(0,s.jsx)(V.A,{className:"w-4 h-4 text-gray-500"})})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your private key should start with 0x"})]})}),n||c?(0,s.jsx)("div",{className:"p-3 rounded-lg "+(u?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 "+(u?"bg-green-500":"bg-red-500")}),(0,s.jsx)("span",{className:"text-sm "+(u?"text-green-700":"text-red-700"),children:u?"Valid format":"Invalid format"})]})}):null]},t),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 mt-6",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Security Notice"}),(0,s.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,s.jsx)("p",{children:"Never share your seed phrase or private key with anyone. This information gives full access to your wallet."})})]})]})}),(0,s.jsx)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{if(u)try{i.Ay.success("Wallet imported successfully!"),e("dashboard")}catch{i.Ay.error("Failed to import wallet")}else i.Ay.error("Please enter a valid seed phrase or private key")},disabled:!u,className:"w-full font-semibold py-4 px-6 rounded-xl shadow-lg transition-colors "+(u?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Import Wallet"})]})})},X=a(90232),Z=a(44471),Q=a(15977);var ee=({onNavigate:e})=>{const[t,a]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(0),[h,m]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{const e=await chrome.storage.local.get(["currentSeedPhrase"]);if(e.currentSeedPhrase){const t=e.currentSeedPhrase.split(" ");a(t)}}catch(e){i.Ay.error("Failed to load seed phrase")}})()},[]);const x=async t=>{p(!0);try{const a=t.join(" ");(0,l.ko)(a)?(m(!0),i.Ay.success("Seed phrase verified successfully!"),await chrome.storage.local.set({seedPhraseVerified:!0}),setTimeout(()=>{e("dashboard")},1500)):(i.Ay.error("Invalid seed phrase. Please try again."),y())}catch(e){i.Ay.error("Verification failed"),y()}finally{p(!1)}},y=()=>{o([]),d(0),m(!1)},g=(e,a)=>t[a]===e;return(0,s.jsxs)("div",{className:"h-full bg-gray-50",children:[(0,s.jsx)("div",{className:"px-4 py-3 bg-white border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>e("create"),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)(X.A,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Verify Seed Phrase"}),(0,s.jsx)("div",{className:"w-9"})]})}),(0,s.jsxs)("div",{className:"p-4 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Verify Your Seed Phrase"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Select the words in the correct order to verify your seed phrase"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[n.length," / ",t.length]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:n.length/t.length*100+"%"}})})]}),!h&&t.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 text-center",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Select word #",c+1]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:t[c]||""})]}),n.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Selected Words"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:n.map((e,t)=>(0,s.jsxs)("div",{className:"px-3 py-2 text-sm rounded-lg border "+(g(e,t)?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"),children:[(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[t+1,"."]})," ",e]},t))})]}),!h&&t.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select the correct word"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:(()=>{if(0===t.length)return[];return[...t].sort(()=>Math.random()-.5)})().map((e,a)=>(0,s.jsx)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>(e=>{if(n.length<t.length){const a=[...n,e];o(a),a.length===t.length?x(a):d(a.length)}})(e),disabled:n.length>=t.length,className:"px-3 py-2 text-sm rounded-lg border transition-colors "+(n.length>=t.length?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 hover:border-blue-500 hover:bg-blue-50"),children:e},`${e}-${a}`))})]}),h&&(0,s.jsxs)(R.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center",children:[(0,s.jsx)(Z.A,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"Verification Complete!"}),(0,s.jsx)("p",{className:"text-green-700",children:"Your seed phrase has been verified successfully. Redirecting to dashboard..."})]}),!h&&n.length>0&&(0,s.jsx)("div",{className:"flex space-x-3",children:(0,s.jsxs)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,className:"flex-1 bg-gray-600 text-white py-3 px-4 rounded-xl hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[(0,s.jsx)(Q.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Start Over"})]})})]})]})},te=a(27775),ae=a(80964),se=a(76316);var re=({onNavigate:e})=>{const{currentNetwork:t}=p(),{portfolioValue:a}=I(),{pendingTransactions:n}=j(),[i,o]=r.useState(!0),l=[{id:"send",label:"Send",icon:te.A,color:"bg-blue-500",onClick:()=>e("send")},{id:"receive",label:"Receive",icon:B.A,color:"bg-green-500",onClick:()=>e("receive")},{id:"settings",label:"Settings",icon:ae.A,color:"bg-gray-500",onClick:()=>e("settings")}];return(0,s.jsxs)("div",{className:"flex flex-col h-full bg-gray-50",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-b-3xl shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,s.jsx)(R.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{o(!i)},className:"p-2 rounded-lg transition-colors hover:bg-gray-100",children:i?(0,s.jsx)(M.A,{className:"w-5 h-5 text-gray-600"}):(0,s.jsx)(V.A,{className:"w-5 h-5 text-gray-600"})})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Total Balance"}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,s.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:i?(c=a?.totalUSD||0,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c)):"****"}),a?.totalChangePercent&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 "+(a.totalChangePercent>=0?"text-green-500":"text-red-500"),children:[(0,s.jsx)(se.A,{className:"w-4 h-4 "+(a.totalChangePercent>=0?"":"rotate-180")}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:[Math.abs(a.totalChangePercent).toFixed(2),"%"]})]})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[t?.name||"Ethereum"," Network"]})]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-4",children:l.map(e=>(0,s.jsxs)(R.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e.onClick,className:"flex flex-col items-center space-y-2 p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[(0,s.jsx)("div",{className:`p-3 rounded-lg ${e.color}`,children:(0,s.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.label})]},e.id))})]}),(0,s.jsxs)("div",{className:"flex-1 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Transactions"}),(0,s.jsx)(R.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("transaction-history"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),(0,s.jsx)("div",{className:"space-y-3",children:n&&n.length>0?n.slice(0,3).map(e=>(0,s.jsx)(R.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 rounded-lg shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:"Transaction"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.hash})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.value}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.status})]})]})},e.id)):(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No recent transactions"})})})]})]});var c},ne=a(37946),ie=a(27235),oe=a(41442),le=a(8051),ce=a(13758);class de{constructor(){this.transactions=[],this.pendingTransactions=[],this.pendingTimeouts=new Map,this.walletManager=new ce.T,this.loadTransactions(),this.startPendingTransactionMonitoring()}async loadTransactions(){try{chrome.storage.local.get(["transactions"],e=>{e.transactions&&(this.transactions=e.transactions)})}catch(e){}}async saveTransactions(){try{chrome.storage.local.set({transactions:this.transactions})}catch(e){}}async savePendingTransactions(){try{chrome.storage.local.set({pendingTransactions:this.pendingTransactions})}catch(e){}}async getWalletFromStorage(){return new Promise(e=>{chrome.storage.local.get(["wallet"],t=>{e(t.wallet||null)})})}async sendTransaction(e,t,s){try{if(!this.walletManager.getCurrentWallet())throw new Error("No wallet available");const r=this.walletManager.getCurrentAccount();if(!r)throw new Error("No account available");const{ethers:n}=await a.e(96).then(a.bind(a,57908)),{getRealBalance:i,estimateGas:o,getGasPrice:l,getTransactionCount:c,signTransaction:d,sendSignedTransaction:h}=await Promise.resolve().then(a.bind(a,18336)),m=await i(r.address,s),u=n.parseEther(t),p=BigInt(m);if(p<u)throw new Error("Insufficient balance");const x=await l(s),y=await o(r.address,e,u.toString(),"0x",s),g=BigInt(y)*BigInt(x);if(p<u+g)throw new Error("Insufficient balance for gas fees");const f=await c(r.address,s),b={to:e,value:u.toString(),data:"0x",gasLimit:y,gasPrice:x,nonce:f},w=await d(b,r.privateKey,s),N=await h(w,s),v={id:N,hash:N,from:r.address,to:e,value:t,network:s,status:"pending",timestamp:Date.now(),gasPrice:n.formatUnits(x,"gwei"),nonce:parseInt(f,16),gasLimit:y,data:"0x",confirmations:0,fee:(BigInt(y)*BigInt(x)).toString(),type:"send"};return this.pendingTransactions.push(v),this.savePendingTransactions(),N}catch(e){throw e}}async monitorTransaction(e){const t=o.Of[e.network];if(!t)return;new le.FR(t.rpcUrl);const a=async()=>{try{const t=await(0,o.h9)(e.hash,e.network);if(t){e.status="0x1"===t.status?"confirmed":"failed",e.blockNumber=parseInt(t.blockNumber,16),e.confirmations=parseInt(t.confirmations,16),await this.saveTransactions();const a=this.pendingTimeouts.get(e.hash);a&&(clearTimeout(a),this.pendingTimeouts.delete(e.hash))}else{const t=setTimeout(a,1e4);this.pendingTimeouts.set(e.hash,t)}}catch(t){const s=setTimeout(a,3e4);this.pendingTimeouts.set(e.hash,s)}};a()}startPendingTransactionMonitoring(){this.transactions.filter(e=>"pending"===e.status).forEach(e=>{this.monitorTransaction(e)})}getTransaction(e){return this.transactions.find(t=>t.hash===e)}getAllTransactions(){return this.transactions}getTransactionsByNetwork(e){return this.transactions.filter(t=>t.network===e)}getPendingTransactions(){return this.transactions.filter(e=>"pending"===e.status)}getTransactionHistory(e=50){return this.transactions.slice(0,e)}async refreshTransaction(e){const t=this.getTransaction(e);if(!t)return null;try{const a=await(0,o.h9)(e,t.network);if(a)return t.status="0x1"===a.status?"confirmed":"failed",t.blockNumber=parseInt(a.blockNumber,16),t.confirmations=parseInt(a.confirmations,16),await this.saveTransactions(),t}catch(e){}return t}async refreshPendingTransactions(){const e=this.getPendingTransactions();for(const t of e)await this.refreshTransaction(t.hash)}async clearTransactionHistory(){this.transactions=[],await this.saveTransactions()}getTransactionStats(){return{total:this.transactions.length,pending:this.transactions.filter(e=>"pending"===e.status).length,confirmed:this.transactions.filter(e=>"confirmed"===e.status).length,failed:this.transactions.filter(e=>"failed"===e.status).length,totalValue:this.transactions.filter(e=>"send"===e.type).reduce((e,t)=>e+parseFloat(t.value),0).toString(),totalFees:this.transactions.reduce((e,t)=>e+parseFloat(t.fee),0).toString()}}async estimateTransactionFee(e,t,a="0x",s){try{const r=o.Of[s];if(!r)throw new Error(`Unsupported network: ${s}`);const n=new le.FR(r.rpcUrl),i=await this.getWalletFromStorage();if(!i?.address)throw new Error("No wallet found");const l=await(0,o.estimateGas)(i.address,e,t,a,s),c=await n.getFeeData(),d=c.gasPrice?.toString()||"20000000000",h=(BigInt(l)*BigInt(d)).toString();return{gasLimit:l.toString(),gasPrice:d,totalFee:h}}catch(e){throw e}}}var he=({onNavigate:e})=>{const{wallet:t,currentNetwork:a}=p(),{addTransaction:n}=j(),l=new de,[c,d]=(0,r.useState)(""),[h,m]=(0,r.useState)(""),[u,x]=(0,r.useState)(""),[y,g]=(0,r.useState)("21000"),[f,b]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!1),[v,E]=(0,r.useState)("0"),[A,T]=(0,r.useState)("0"),[k,_]=(0,r.useState)("");(0,r.useEffect)(()=>{t?.address&&P()},[t?.address]),(0,r.useEffect)(()=>{const e=oe.PW(c);b(e)},[c]),(0,r.useEffect)(()=>{f&&h&&parseFloat(h)>0?C():E("0")},[c,h,u,y,f]);const P=async()=>{try{if(t?.address&&a){const e=await fetch("https://mainnet.infura.io/v3/ed5ebbc74c634fb3a8010a172c834989",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getBalance",params:[t.address,"latest"],id:1})}),a=await e.json();if(a.result){const e=S.ck(a.result);T(e)}}}catch(e){}},C=async()=>{try{if(!t?.address||!f||!h)return;const e=await(0,o.estimateGas)(t.address,c,h,"0x",a?.id||"ethereum"),s=u?S.XS(u,"gwei"):S.XS("20","gwei"),r=BigInt(e)*s;E(S.ck(r)),g(e.toString())}catch(e){E("0")}};return(0,s.jsxs)("div",{className:"h-full bg-gray-50",children:[(0,s.jsx)("div",{className:"px-4 py-3 bg-white border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)(X.A,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Send ETH"}),(0,s.jsx)("div",{className:"w-9"})]})}),(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-white rounded-xl",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Available Balance"}),(0,s.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[parseFloat(A).toFixed(4)," ETH"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-white rounded-xl",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Address"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"0x...",className:"w-full px-3 py-2 border text-black rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent "+(c&&!f?"border-red-300":"border-gray-300")}),c&&!f&&(0,s.jsxs)("div",{className:"flex items-center text-black mt-2 text-sm text-red-600",children:[(0,s.jsx)(ne.A,{className:"w-4 h-4 mr-1"}),"Invalid Ethereum address"]}),f&&(0,s.jsxs)("div",{className:"flex items-center text-black mt-2 text-sm text-green-600",children:[(0,s.jsx)(Z.A,{className:"w-4 h-4 mr-1"}),"Valid address: ",(I=c,`${I.slice(0,6)}...${I.slice(-4)}`)]})]}),(0,s.jsxs)("div",{className:"p-4 bg-white rounded-xl",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (ETH)"}),(0,s.jsx)("input",{type:"number",value:h,onChange:e=>m(e.target.value),placeholder:"0.0",step:"0.0001",min:"0",className:"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"p-4 bg-white rounded-xl",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wallet Password"}),(0,s.jsx)("input",{type:"password",value:k,onChange:e=>_(e.target.value),placeholder:"Enter your wallet password",className:"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"p-4 bg-white rounded-xl",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Gas Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-black text-gray-600 mb-1",children:"Gas Price (Gwei)"}),(0,s.jsx)("input",{type:"number",value:u,onChange:e=>x(e.target.value),placeholder:"20",className:"w-full px-2 py-1 text-sm text-black border border-gray-300 rounded focus:ring-1 focus:ring-primary-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Gas Limit"}),(0,s.jsx)("input",{type:"number",value:y,onChange:e=>g(e.target.value),placeholder:"21000",className:"w-full px-2 py-1 text-sm text-black border border-gray-300 rounded focus:ring-1 focus:ring-primary-500"})]})]}),(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Estimated Fee:"}),(0,s.jsxs)("span",{className:"font-medium",children:[parseFloat(v).toFixed(6)," ETH"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Total:"}),(0,s.jsxs)("span",{className:"font-bold",children:[((parseFloat(h)||0)+parseFloat(v)).toFixed(6)," ETH"]})]})]})]}),(0,s.jsx)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{if(!f||!h||parseFloat(h)<=0)return void i.Ay.error("Please enter a valid address and amount");if(!k)return void i.Ay.error("Please enter your wallet password");if(parseFloat(h)+parseFloat(v)>parseFloat(A))i.Ay.error("Insufficient balance for transaction and gas fees");else{N(!0);try{const s=await l.sendTransaction(c,h,a?.id||"ethereum");n({hash:s,from:t.address,to:c,value:h,network:a?.id||"ethereum",status:"pending",gasPrice:u||"20",nonce:0}),i.Ay.success("Transaction sent successfully!"),e("dashboard")}catch(e){i.Ay.error("Failed to send transaction")}finally{N(!1)}}},disabled:!f||!h||parseFloat(h)<=0||!k||w,className:"w-full py-3 px-4 rounded-xl font-semibold text-white transition-colors "+(!f||!h||parseFloat(h)<=0||!k||w?"bg-gray-300 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700"),children:w?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)(ie.A,{className:"w-5 h-5 mr-2 animate-spin"}),"Sending..."]}):(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)(te.A,{className:"w-5 h-5 mr-2"}),"Send Transaction"]})})]})]});var I},me=a(50205),ue=a(15286);var pe=({onNavigate:e})=>{const{wallet:t,currentNetwork:a}=p(),[n,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(200);(0,r.useEffect)(()=>{t?.address&&c(200)},[t?.address,a?.symbol]);const d=async()=>{if(t?.address)try{await navigator.clipboard.writeText(t.address),o(!0),i.Ay.success("Address copied to clipboard"),setTimeout(()=>o(!1),2e3)}catch{i.Ay.error("Failed to copy address")}};return t?.address?(0,s.jsxs)("div",{className:"h-full bg-gray-50",children:[(0,s.jsx)("div",{className:"px-4 py-3 bg-white border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)(X.A,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Receive ETH"}),(0,s.jsx)("div",{className:"w-9"})]})}),(0,s.jsxs)("div",{className:"p-4 space-y-6",children:[(0,s.jsxs)("div",{className:"p-6 bg-white rounded-xl text-center",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Your Address"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Share this address to receive ETH and other ERC-20 tokens"})]}),(0,s.jsx)("div",{className:"mx-auto mb-4 w-48 h-48 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:(0,s.jsx)(ue.QRCodeSVG,{value:(()=>{if(!t?.address)return"";return`${a?.symbol?.toLowerCase()||"eth"}:${t.address}`})(),size:l})}),(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Wallet Address"}),(0,s.jsx)("div",{className:"font-mono text-sm text-gray-900 break-all",children:t.address})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)(R.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"flex flex-col items-center p-3 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors",children:[n?(0,s.jsx)(G.A,{className:"w-5 h-5 text-green-600 mb-1"}):(0,s.jsx)(J.A,{className:"w-5 h-5 text-blue-600 mb-1"}),(0,s.jsx)("span",{className:"text-xs text-gray-700",children:n?"Copied!":"Copy"})]}),(0,s.jsxs)(R.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(!t?.address)return;const e=document.createElement("canvas"),a=e.getContext("2d");if(!a)return;e.width=200,e.height=200,a.fillStyle="#000",a.fillRect(0,0,200,200),a.fillStyle="#fff",a.fillRect(10,10,180,180),a.fillStyle="#000",a.fillRect(20,20,160,160),a.fillStyle="#000",a.font="10px Arial",a.textAlign="center",a.fillText("PayCio Address",100,190);const s=document.createElement("a");s.download="paycio-address-qr.png",s.href=e.toDataURL(),s.click()},className:"flex flex-col items-center p-3 rounded-lg bg-green-50 hover:bg-green-100 transition-colors",children:[(0,s.jsx)(B.A,{className:"w-5 h-5 text-green-600 mb-1"}),(0,s.jsx)("span",{className:"text-xs text-gray-700",children:"Download"})]}),(0,s.jsxs)(R.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{if(t?.address)if(navigator.share)try{await navigator.share({title:"PayCio Wallet Address",text:`My PayCio wallet address: ${t.address}`,url:`ethereum:${t.address}`})}catch{}else d()},className:"flex flex-col items-center p-3 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors",children:[(0,s.jsx)(me.A,{className:"w-5 h-5 text-purple-600 mb-1"}),(0,s.jsx)("span",{className:"text-xs text-gray-700",children:"Share"})]})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded-xl",children:[(0,s.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"How to receive ETH"}),(0,s.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,s.jsx)("li",{children:"• Share your address with the sender"}),(0,s.jsx)("li",{children:"• They can scan the QR code or copy the address"}),(0,s.jsx)("li",{children:"• Transactions typically confirm in 1-3 minutes"}),(0,s.jsx)("li",{children:"• You'll see the balance update automatically"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-yellow-50 rounded-xl",children:[(0,s.jsx)("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Security Tips"}),(0,s.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-1",children:[(0,s.jsx)("li",{children:"• Only share this address with trusted sources"}),(0,s.jsx)("li",{children:"• Double-check the address before sharing"}),(0,s.jsx)("li",{children:"• Never share your private key or seed phrase"}),(0,s.jsx)("li",{children:"• This address is safe to share publicly"})]})]})]})]}):(0,s.jsx)("div",{className:"h-full bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-gray-500 mb-4",children:"No wallet found"}),(0,s.jsx)("button",{onClick:()=>e("dashboard"),className:"px-4 py-2 bg-primary-600 text-white rounded-lg",children:"Go to Dashboard"})]})})},xe=a(49436),ye=a(32708),ge=a(97213);var fe=({onNavigate:e})=>{const{wallet:t}=p(),{securityState:a}=y(),[n,o]=(0,r.useState)("USD"),[l,c]=(0,r.useState)("en"),[d,h]=(0,r.useState)(!0),[m,u]=(0,r.useState)("light"),x=[{id:"general",title:"General",icon:ae.A,items:[{id:"currency",label:"Currency",value:n,type:"select",options:[{value:"USD",label:"US Dollar (USD)"},{value:"EUR",label:"Euro (EUR)"},{value:"GBP",label:"British Pound (GBP)"},{value:"JPY",label:"Japanese Yen (JPY)"}]},{id:"language",label:"Language",value:l,type:"select",options:[{value:"en",label:"English"},{value:"es",label:"Español"},{value:"fr",label:"Français"},{value:"de",label:"Deutsch"}]},{id:"theme",label:"Theme",value:m,type:"select",options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"auto",label:"Auto"}]}]},{id:"notifications",title:"Notifications",icon:xe.A,items:[{id:"notifications",label:"Enable Notifications",value:d,type:"toggle"}]},{id:"security",title:"Security",icon:H.A,items:[{id:"autoLock",label:"Auto-lock Timeout",value:`${a.autoLockTimeout} minutes`,type:"link",action:()=>e("security")}]},{id:"wallet",title:"Wallet",icon:ae.A,items:[{id:"export",label:"Export Wallet",type:"button",action:()=>g(),icon:B.A},{id:"delete",label:"Delete Wallet",type:"button",action:()=>f(),icon:ye.A,danger:!0}]},{id:"about",title:"About",icon:ge.A,items:[{id:"version",label:"Version",value:"2.0.0",type:"text"},{id:"network",label:"Network",value:t?.network||"Ethereum",type:"text"}]}],g=async()=>{try{if(!t)return void i.Ay.error("No wallet to export");const e={name:t.name,address:t.address,network:t.network,createdAt:t.createdAt},a=JSON.stringify(e,null,2),s=new Blob([a],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(s),r.download=`wallet-backup-${Date.now()}.json`,r.click(),i.Ay.success("Wallet exported successfully")}catch{i.Ay.error("Failed to export wallet")}},f=async()=>{if(confirm("Are you sure you want to delete this wallet? This action cannot be undone."))try{await chrome.storage.local.remove(["wallets","currentWallet"]),i.Ay.success("Wallet deleted successfully"),e("welcome")}catch{i.Ay.error("Failed to delete wallet")}},b=(e,t,a)=>{switch(t){case"currency":o(a),chrome.storage.local.set({currency:a});break;case"language":c(a),chrome.storage.local.set({language:a});break;case"theme":u(a),chrome.storage.local.set({theme:a});break;case"notifications":h(a),chrome.storage.local.set({notifications:a})}},w=e=>{switch(e.type){case"select":return(0,s.jsx)("select",{value:e.value,onChange:t=>b(0,e.id,t.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:e.options.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))});case"toggle":return(0,s.jsx)("input",{type:"checkbox",checked:e.value,onChange:t=>b(0,e.id,t.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"});case"button":return(0,s.jsxs)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e.action,className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors "+(e.danger?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"),children:[e.icon&&(0,s.jsx)(e.icon,{className:"w-4 h-4 inline mr-1"}),e.label]});case"link":return(0,s.jsx)("button",{onClick:e.action,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:e.value});default:return(0,s.jsx)("span",{className:"text-gray-600 text-sm",children:e.value})}};return(0,s.jsxs)("div",{className:"h-full bg-gray-50",children:[(0,s.jsx)("div",{className:"px-4 py-3 bg-white border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)(X.A,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Settings"}),(0,s.jsx)("div",{className:"w-9"})]})}),(0,s.jsx)("div",{className:"p-4 space-y-6",children:x.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",children:[(0,s.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(e.icon,{className:"w-5 h-5 text-gray-600"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:e.title})]})}),(0,s.jsx)("div",{className:"divide-y divide-gray-200",children:e.items.map(e=>(0,s.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:e.label})}),(0,s.jsx)("div",{className:"ml-4",children:w(e)})]},e.id))})]},e.id))})]})},be=a(48852),we=a(418);var Ne=({onNavigate:e})=>{const{securityState:t,updateSecuritySettings:n,lockWallet:o}=y(),[l,c]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),[p,x]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[N,v]=(0,r.useState)(t.autoLockTimeout),[j,E]=(0,r.useState)(t.requirePassword);(0,r.useEffect)(()=>{v(t.autoLockTimeout),E(t.requirePassword)},[t]);return(0,s.jsxs)("div",{className:"h-full bg-gray-50",children:[(0,s.jsx)("div",{className:"px-4 py-3 bg-white border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)(X.A,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"}),(0,s.jsx)("div",{className:"w-9"})]})}),(0,s.jsxs)("div",{className:"p-4 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(ie.A,{className:"w-5 h-5 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Auto-Lock"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically lock wallet after inactivity"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto-lock timeout"}),(0,s.jsxs)("select",{value:N,onChange:e=>v(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:1,children:"1 minute"}),(0,s.jsx)("option",{value:5,children:"5 minutes"}),(0,s.jsx)("option",{value:15,children:"15 minutes"}),(0,s.jsx)("option",{value:30,children:"30 minutes"}),(0,s.jsx)("option",{value:60,children:"1 hour"}),(0,s.jsx)("option",{value:0,children:"Never"})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Wallet will automatically lock after ",(e=>{if(e<60)return`${e} minutes`;const t=Math.floor(e/60),a=e%60;return 0===a?`${t} hour${t>1?"s":""}`:`${t} hour${t>1?"s":""} ${a} minutes`})(N)," of inactivity"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"requirePassword",checked:j,onChange:e=>E(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsx)("label",{htmlFor:"requirePassword",className:"text-sm text-gray-700",children:"Require password for transactions"})]}),(0,s.jsxs)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{await n({autoLockTimeout:N,requirePassword:j}),i.Ay.success("Security settings updated")}catch{i.Ay.error("Failed to update settings")}},className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[(0,s.jsx)(be.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Save Settings"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)($.A,{className:"w-5 h-5 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Change Password"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Update your wallet password"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:p?"text":"password",value:l,onChange:e=>c(e.target.value),placeholder:"Enter current password",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,s.jsx)("button",{onClick:()=>x(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded hover:bg-gray-100",children:p?(0,s.jsx)(M.A,{className:"w-4 h-4 text-gray-500"}):(0,s.jsx)(V.A,{className:"w-4 h-4 text-gray-500"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:g?"text":"password",value:d,onChange:e=>h(e.target.value),placeholder:"Enter new password",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,s.jsx)("button",{onClick:()=>f(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded hover:bg-gray-100",children:g?(0,s.jsx)(M.A,{className:"w-4 h-4 text-gray-500"}):(0,s.jsx)(V.A,{className:"w-4 h-4 text-gray-500"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:b?"text":"password",value:m,onChange:e=>u(e.target.value),placeholder:"Confirm new password",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,s.jsx)("button",{onClick:()=>w(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded hover:bg-gray-100",children:b?(0,s.jsx)(M.A,{className:"w-4 h-4 text-gray-500"}):(0,s.jsx)(V.A,{className:"w-4 h-4 text-gray-500"})})]})]}),(0,s.jsxs)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{if(d===m)if(d.length<8)i.Ay.error("Password must be at least 8 characters long");else try{const{hashPassword:e}=await Promise.resolve().then(a.bind(a,48302)),t=await e(d);await new Promise((e,a)=>{chrome.storage.local.set({passwordHash:t},()=>{chrome.runtime.lastError?a(new Error(chrome.runtime.lastError.message)):e()})}),i.Ay.success("Password updated successfully"),c(""),h(""),u("")}catch{i.Ay.error("Failed to update password")}else i.Ay.error("New passwords do not match")},disabled:!l||!d||!m,className:"w-full py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2 "+(l&&d&&m?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,s.jsx)($.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Change Password"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(H.A,{className:"w-5 h-5 text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Immediate security actions"})]})]}),(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{o(),i.Ay.success("Wallet locked"),e("dashboard")},className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center space-x-2",children:[(0,s.jsx)($.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Lock Wallet Now"})]})})]}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(we.A,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-yellow-900 mb-2",children:"Security Tips"}),(0,s.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-1",children:[(0,s.jsx)("li",{children:"• Use a strong, unique password"}),(0,s.jsx)("li",{children:"• Never share your seed phrase or private keys"}),(0,s.jsx)("li",{children:"• Enable auto-lock for additional security"}),(0,s.jsx)("li",{children:"• Keep your wallet software updated"}),(0,s.jsx)("li",{children:"• Be cautious of phishing attempts"})]})]})]})})]})]})},ve=a(80697);var je=({onNavigate:e})=>{const{networks:t,currentNetwork:a,switchNetwork:n,addCustomNetwork:o}=b(),[l,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)({name:"",symbol:"",rpcUrl:"",chainId:"",explorerUrl:""}),m=async e=>{try{await n(e.id),i.Ay.success(`Switched to ${e.name}`)}catch{i.Ay.error("Failed to switch network")}},u=e=>a?.id===e.id;return(0,s.jsxs)("div",{className:"h-full bg-gray-50",children:[(0,s.jsx)("div",{className:"px-4 py-3 bg-white border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)(X.A,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Networks"}),(0,s.jsx)(R.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(!0),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)(ve.A,{className:"w-5 h-5 text-gray-600"})})]})}),(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Default Networks"}),(0,s.jsx)("div",{className:"space-y-2",children:[{id:"ethereum",name:"Ethereum",symbol:"ETH",rpcUrl:"https://mainnet.infura.io/v3/",chainId:"1",explorerUrl:"https://etherscan.io",isCustom:!1,isEnabled:!0},{id:"bsc",name:"Binance Smart Chain",symbol:"BNB",rpcUrl:"https://bsc-dataseed1.binance.org",chainId:"56",explorerUrl:"https://bscscan.com",isCustom:!1,isEnabled:!0},{id:"polygon",name:"Polygon",symbol:"MATIC",rpcUrl:"https://polygon-rpc.com",chainId:"137",explorerUrl:"https://polygonscan.com",isCustom:!1,isEnabled:!0},{id:"avalanche",name:"Avalanche",symbol:"AVAX",rpcUrl:"https://api.avax.network/ext/bc/C/rpc",chainId:"43114",explorerUrl:"https://snowtrace.io",isCustom:!1,isEnabled:!0}].map(e=>(0,s.jsx)(R.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(e),className:"p-4 bg-white rounded-xl border-2 cursor-pointer transition-all "+(u(e)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(O.A,{className:"w-5 h-5 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.symbol})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:u(e)&&(0,s.jsx)(G.A,{className:"w-5 h-5 text-blue-600"})})]})},e.id))})]}),t.filter(e=>e.isCustom).length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Custom Networks"}),(0,s.jsx)("div",{className:"space-y-2",children:t.filter(e=>e.isCustom).map(e=>(0,s.jsx)(R.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(e),className:"p-4 bg-white rounded-xl border-2 cursor-pointer transition-all "+(u(e)?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(ae.A,{className:"w-5 h-5 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.symbol})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:u(e)&&(0,s.jsx)(G.A,{className:"w-5 h-5 text-green-600"})})]})},e.id))})]}),l&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)(R.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Custom Network"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Network Name"}),(0,s.jsx)("input",{type:"text",value:d.name,onChange:e=>h(t=>({...t,name:e.target.value})),placeholder:"e.g., My Custom Network",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symbol"}),(0,s.jsx)("input",{type:"text",value:d.symbol,onChange:e=>h(t=>({...t,symbol:e.target.value})),placeholder:"e.g., CUSTOM",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RPC URL"}),(0,s.jsx)("input",{type:"url",value:d.rpcUrl,onChange:e=>h(t=>({...t,rpcUrl:e.target.value})),placeholder:"https://rpc.example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chain ID"}),(0,s.jsx)("input",{type:"text",value:d.chainId,onChange:e=>h(t=>({...t,chainId:e.target.value})),placeholder:"e.g., 1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Explorer URL (Optional)"}),(0,s.jsx)("input",{type:"url",value:d.explorerUrl,onChange:e=>h(t=>({...t,explorerUrl:e.target.value})),placeholder:"https://explorer.example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,s.jsx)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)(R.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{if(d.name&&d.rpcUrl&&d.chainId)try{const e={id:d.name.toLowerCase().replace(/\s+/g,"-"),name:d.name,symbol:d.symbol,rpcUrl:d.rpcUrl,chainId:d.chainId,explorerUrl:d.explorerUrl,isCustom:!0,isEnabled:!0};await o(e),i.Ay.success("Custom network added successfully"),c(!1),h({name:"",symbol:"",rpcUrl:"",chainId:"",explorerUrl:""})}catch{i.Ay.error("Failed to add network")}else i.Ay.error("Please fill in all required fields")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Network"})]})]})})]})]})};var Ee=()=>(0,s.jsx)("div",{className:"h-full bg-gray-50 p-6",children:(0,s.jsxs)("div",{className:"max-w-sm mx-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"NFTs"}),(0,s.jsx)("p",{className:"text-gray-600",children:"NFTs screen coming soon..."})]})});var Ae=()=>(0,s.jsx)("div",{className:"h-full bg-gray-50 p-6",children:(0,s.jsxs)("div",{className:"max-w-sm mx-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Portfolio"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Portfolio screen coming soon..."})]})});var Te=()=>(0,s.jsx)("div",{className:"h-full bg-gray-50 p-6",children:(0,s.jsxs)("div",{className:"max-w-sm mx-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Transactions"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Transactions screen coming soon..."})]})}),ke=a(50180),_e=a(18931),Pe=a(72102),Se=a(75107);var Ce=({onNavigate:e})=>{const{recentTransactions:t,pendingTransactions:a,refreshTransactions:n}=j(),{wallet:l,currentNetwork:c}=p(),[d,h]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[x,y]=(0,r.useState)([]),[g,f]=(0,r.useState)([]),[b,w]=(0,r.useState)(null),[N,v]=(0,r.useState)(1),[E,A]=(0,r.useState)(!0),[T,k]=(0,r.useState)({});(0,r.useEffect)(()=>{const e=[...a,...t,...g];y(e)},[t,a,g]);const _=async(e=1,t=!1)=>{if(l?.address&&c){1===e?h(!0):u(!0),w(null);try{const[a,s]=await Promise.all([(0,o.nw)(l.address,c.id,e,20),(0,o.fh)(l.address,c.id)]),r=[...a,...s].map(e=>({id:e.hash||e.transactionHash,hash:e.hash||e.transactionHash,from:e.from,to:e.to,value:e.value?(parseInt(e.value)/1e18).toString():"0",network:c.id,status:e.confirmations>0?"confirmed":"pending",timestamp:1e3*parseInt(e.timeStamp||e.timestamp),gasUsed:e.gasUsed,gasPrice:e.gasPrice?(parseInt(e.gasPrice)/1e9).toString():"0",blockNumber:e.blockNumber,confirmations:e.confirmations||0,isTokenTransaction:!!e.tokenName,tokenName:e.tokenName,tokenSymbol:e.tokenSymbol,tokenValue:e.tokenValue}));f(t?e=>[...e,...r]:r),A(20===r.length),v(e),1===e&&i.Ay.success("Transactions refreshed")}catch(e){const t=e instanceof Error?e.message:"Failed to load transactions";w(t),i.Ay.error(t)}finally{h(!1),u(!1)}}else w("No wallet or network selected")},P=()=>{v(1),A(!0),_(1,!1)},S=e=>{switch(e){case"confirmed":return(0,s.jsx)(Z.A,{className:"w-4 h-4 text-green-500"});case"pending":return(0,s.jsx)(ie.A,{className:"w-4 h-4 text-yellow-500"});case"failed":return(0,s.jsx)(ke.A,{className:"w-4 h-4 text-red-500"});default:return(0,s.jsx)(ie.A,{className:"w-4 h-4 text-gray-500"})}},C=e=>{switch(e){case"confirmed":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"failed":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},I=e=>e?`${e.slice(0,6)}...${e.slice(-4)}`:"Unknown",U=e=>{const t=Date.now()-e,a=Math.floor(t/6e4),s=Math.floor(t/36e5),r=Math.floor(t/864e5);return r>0?`${r}d ago`:s>0?`${s}h ago`:a>0?`${a}m ago`:"Just now"},F=(e,t=!1,a)=>{const s=parseFloat(e);return isNaN(s)?"0":t&&a?`${s.toFixed(4)} ${a}`:`${s.toFixed(4)} ETH`};return(0,s.jsxs)("div",{className:"h-full bg-gray-50",children:[(0,s.jsx)("div",{className:"px-4 py-3 bg-white border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)(X.A,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Transaction History"}),(0,s.jsx)(R.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:P,disabled:d,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50",children:(0,s.jsx)(Q.A,{className:"w-5 h-5 text-gray-600 "+(d?"animate-spin":"")})})]})}),b&&(0,s.jsx)("div",{className:"px-4 py-3 bg-red-50 border-b border-red-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ne.A,{className:"w-5 h-5 text-red-500"}),(0,s.jsx)("span",{className:"text-red-700 text-sm",children:b})]})}),(0,s.jsx)("div",{className:"p-4",children:d&&0===x.length?(0,s.jsxs)("div",{className:"py-12 text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading transactions..."})]}):0===x.length?(0,s.jsxs)("div",{className:"py-12 text-center",children:[(0,s.jsx)("div",{className:"flex justify-center items-center mx-auto mb-4 w-16 h-16 bg-gray-100 rounded-full",children:(0,s.jsx)(ie.A,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Transactions"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"You haven't made any transactions yet."}),(0,s.jsx)("button",{onClick:P,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:d?"Loading...":"Load Transactions"})]}):(0,s.jsxs)("div",{className:"space-y-3",children:[x.map(e=>(0,s.jsxs)(R.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 bg-white rounded-xl shadow-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[S(e.status),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.isTokenTransaction?"Token Transfer":"Transaction"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:U(e.timestamp)})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>(e=>{const t=c?.explorerUrl||"https://etherscan.io";window.open(`${t}/tx/${e}`,"_blank")})(e.hash),className:"p-1 rounded hover:bg-gray-100",title:"View on Explorer",children:(0,s.jsx)(_e.A,{className:"w-4 h-4 text-gray-500"})}),(0,s.jsx)("button",{onClick:()=>{return t=e.id,void k(e=>({...e,[t]:!e[t]}));var t},className:"p-1 rounded hover:bg-gray-100",title:"Toggle Details",children:T[e.id]?(0,s.jsx)(Pe.A,{className:"w-4 h-4 text-gray-500"}):(0,s.jsx)(Se.A,{className:"w-4 h-4 text-gray-500"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:F(e.value,e.isTokenTransaction,e.tokenSymbol)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,s.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${C(e.status)}`,children:e.status})]})]}),T[e.id]&&(0,s.jsxs)(R.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 pt-3 border-t border-gray-100 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"From:"}),(0,s.jsx)("span",{className:"font-mono text-gray-900",children:I(e.from)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"To:"}),(0,s.jsx)("span",{className:"font-mono text-gray-900",children:I(e.to)})]}),e.blockNumber&&(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Block:"}),(0,s.jsx)("span",{className:"text-gray-900",children:parseInt(e.blockNumber).toLocaleString()})]}),e.confirmations>0&&(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Confirmations:"}),(0,s.jsx)("span",{className:"text-gray-900",children:e.confirmations})]}),e.gasUsed&&(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Gas Used:"}),(0,s.jsx)("span",{className:"text-gray-900",children:parseInt(e.gasUsed).toLocaleString()})]}),e.gasPrice&&(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Gas Price:"}),(0,s.jsxs)("span",{className:"text-gray-900",children:[parseFloat(e.gasPrice).toFixed(2)," Gwei"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Hash:"}),(0,s.jsx)("span",{className:"font-mono text-gray-900 text-xs",children:I(e.hash)})]})]})]},e.id)),E&&(0,s.jsx)("div",{className:"text-center pt-4",children:(0,s.jsx)("button",{onClick:()=>{!m&&E&&_(N+1,!0)},disabled:m,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:m?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),(0,s.jsx)("span",{children:"Loading..."})]}):"Load More"})})]})})]})};var Ie=()=>{const[e,t]=(0,r.useState)("welcome"),[a,n]=(0,r.useState)(!0),{wallet:o,initializeWallet:l}=p(),{networkState:c}=b(),{portfolioValue:d}=I(),{pendingTransactions:h}=j();(0,r.useEffect)(()=>{(async()=>{try{await l(),n(!1)}catch{i.Ay.error("Failed to initialize app"),n(!1)}})()},[l]);const m=e=>{t(e)};if(a)return(0,s.jsx)("div",{className:"h-full bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});return(0,s.jsxs)("div",{className:"h-full bg-gray-50",children:[(0,s.jsx)(L.N,{mode:"wait",children:(0,s.jsx)(R.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"h-full",children:(()=>{switch(e){case"welcome":default:return(0,s.jsx)(D,{onNavigate:m});case"create":return(0,s.jsx)(z,{onNavigate:m});case"import":return(0,s.jsx)(q,{onNavigate:m});case"verify":return(0,s.jsx)(ee,{onNavigate:m});case"dashboard":return(0,s.jsx)(re,{onNavigate:m});case"send":return(0,s.jsx)(he,{onNavigate:m});case"receive":return(0,s.jsx)(pe,{onNavigate:m});case"settings":return(0,s.jsx)(fe,{onNavigate:m});case"security":return(0,s.jsx)(Ne,{onNavigate:m});case"networks":return(0,s.jsx)(je,{onNavigate:m});case"nfts":return(0,s.jsx)(Ee,{onNavigate:m});case"portfolio":return(0,s.jsx)(Ae,{onNavigate:m});case"transactions":return(0,s.jsx)(Te,{onNavigate:m});case"transaction-history":return(0,s.jsx)(Ce,{onNavigate:m})}})()},e)}),(0,s.jsx)(i.l$,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})};const Ue=document.getElementById("root");if(Ue){(0,n.H)(Ue).render((0,s.jsx)(r.StrictMode,{children:(0,s.jsx)(u,{children:(0,s.jsx)(g,{children:(0,s.jsx)(N,{children:(0,s.jsx)(E,{children:(0,s.jsx)(P,{children:(0,s.jsxs)(F,{children:[(0,s.jsx)(Ie,{}),(0,s.jsx)(i.l$,{position:"top-right"})]})})})})})})}))}else document.body.innerHTML='<div style="padding: 20px; text-align: center;">Failed to load wallet extension</div>'}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={id:e,loaded:!1,exports:{}};return n[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=n,o.amdO={},e=[],o.O=function(t,a,s,r){if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],r=e[d][2];for(var i=!0,l=0;l<a.length;l++)(!1&r||n>=r)&&Object.keys(o.O).every(function(e){return o.O[e](a[l])})?a.splice(l--,1):(i=!1,r<n&&(n=r));if(i){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,s,r]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},a=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var r=Object.create(null);o.r(r);var n={};t=t||[null,a({}),a([]),a(a)];for(var i=2&s&&e;("object"==typeof i||"function"==typeof i)&&!~t.indexOf(i);i=a(i))Object.getOwnPropertyNames(i).forEach(function(t){n[t]=function(){return e[t]}});return n.default=function(){return e},o.d(r,n),r},o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce(function(t,a){return o.f[a](e,t),t},[]))},o.u=function(e){return e+".js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s={},r="paycio-wallet:",o.l=function(e,t,a,n){if(s[e])s[e].push(t);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==r+a){i=h;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",r+a),i.src=e),s[e]=[t];var m=function(t,a){i.onerror=i.onload=null,clearTimeout(u);var r=s[e];if(delete s[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(function(e){return e(a)}),t)return t(a)},u=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o.j=887,function(){var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var s=a.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=a[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e}(),function(){var e={336:0,887:0};o.f.j=function(t,a){var s=o.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var r=new Promise(function(a,r){s=e[t]=[a,r]});a.push(s[2]=r);var n=o.p+o.u(t),i=new Error;o.l(n,function(a){if(o.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var r=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",i.name="ChunkLoadError",i.type=r,i.request=n,s[1](i)}},"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,r,n=a[0],i=a[1],l=a[2],c=0;if(n.some(function(t){return 0!==e[t]})){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var d=l(o)}for(t&&t(a);c<n.length;c++)r=n[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},a=self.webpackChunkpaycio_wallet=self.webpackChunkpaycio_wallet||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var l=o.O(void 0,[96,489],function(){return o(58100)});l=o.O(l)}();